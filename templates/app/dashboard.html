{% extends 'layouts/app_base.html' %}
{% block content %}
  <h1 class="text-2xl font-extrabold">Dashboard</h1>
  <p class="mt-1 text-sm text-gray-600">Quick overview of your business.</p>

  <!-- Cards -->
  <div class="mt-6 grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
    <div class="rounded-xl border bg-white p-5 shadow-sm">
      <div class="text-xs text-gray-500 flex justify-between"><span>MRR</span><span>+12.4%</span></div>
      <div class="mt-2 text-2xl font-bold">${{ "{:,}".format(stats.mrr) }}</div>
      <div class="mt-3 h-2 w-full rounded-full bg-gray-100"><div class="h-2 w-2/3 rounded-full bg-brand-600"></div></div>
    </div>

    <div class="rounded-xl border bg-white p-5 shadow-sm">
      <div class="text-xs text-gray-500 flex justify-between"><span>Invoices</span><span>Last 30 days</span></div>
      <div class="mt-2 text-2xl font-bold">{{ stats.invoices.paid + stats.invoices.pending + stats.invoices.overdue }}</div>
      <ul class="mt-3 text-sm text-gray-600">
        <li>Paid: <b>{{ stats.invoices.paid }}</b></li>
        <li>Pending: <b>{{ stats.invoices.pending }}</b></li>
        <li>Overdue: <b>{{ stats.invoices.overdue }}</b></li>
      </ul>
    </div>

    <div class="rounded-xl border bg-white p-5 shadow-sm">
      <div class="text-xs text-gray-500 flex justify-between"><span>Sales Tax</span><span>Q3</span></div>
      <div class="mt-2 text-2xl font-bold">${{ "{:,}".format(stats.tax_q3) }}</div>
      <p class="mt-2 text-xs text-gray-500">GST/HST/PST accrual</p>
    </div>
  </div>

  <!-- Table (recent invoices - mock) -->
  <div class="mt-8 rounded-xl border bg-white p-5 shadow-sm">
    <div class="flex items-center justify-between">
      <h2 class="font-semibold">Recent invoices</h2>
      <a href="#" class="text-sm text-brand-600 hover:underline">View all</a>
    </div>
    <div class="mt-4 overflow-x-auto">
      <table class="w-full text-sm">
        <thead class="text-left text-gray-500">
          <tr>
            <th class="py-2">Invoice #</th>
            <th class="py-2">Client</th>
            <th class="py-2">Amount</th>
            <th class="py-2">Status</th>
            <th class="py-2">Issued</th>
          </tr>
        </thead>
        <tbody>
          <tr class="border-t">
            <td class="py-2">INV-1024</td>
            <td>Acme Inc.</td>
            <td>$1,240</td>
            <td><span class="rounded-md bg-green-100 px-2 py-0.5 text-green-700">Paid</span></td>
            <td>2025-08-10</td>
          </tr>
          <tr class="border-t">
            <td class="py-2">INV-1025</td>
            <td>Nova Labs</td>
            <td>$540</td>
            <td><span class="rounded-md bg-yellow-100 px-2 py-0.5 text-yellow-700">Pending</span></td>
            <td>2025-08-15</td>
          </tr>
          <tr class="border-t">
            <td class="py-2">INV-1026</td>
            <td>Blue Ridge</td>
            <td>$320</td>
            <td><span class="rounded-md bg-red-100 px-2 py-0.5 text-red-700">Overdue</span></td>
            <td>2025-08-18</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
{% endblock %}